<!DOCTYPE html>
<html>
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="initial-scale=1, width=device-width, maximum-scale=1, user-scalable=no"/>
	<title>注册</title>
	<meta name="description" content="">
	<meta name="keywords" content="">
	<link rel="stylesheet" href="css/common.css">
	<link rel="stylesheet" href="css/use.css">
	</head>
	<body>
		<header>
	<h3 class="tc lhbg">
		<i class="go"></i>
		修改资料
	</h3>
</header>
		<div class="main register">
			<form action="">
				<ul>
					<li><i class="icphone"></i><input type="text"placeholder="请输入手机号"></li>
					<li class="flex-box">
						<i class="icodetxt"></i>
						<input type="text"placeholder="验证码">
						<span class="flex-1 code">获取验证码</span>
					</li>
					<li><i class="icname"></i><input type="text"placeholder="姓名"></li>
					<li class="active">
						<i class="icpay"></i><input type="password"placeholder="支付密码">
						<i class="hided"></i>
					</li>
					<li><i class="icpwd1"></i><input type="password"placeholder="确认密码"></li>
					<li><i class="icrec"></i><input type="password"placeholder="推荐人手机号码(选填)"></li>
				</ul>
				<div class="reg-box">
					<p class="tc"id="area">
						<span class="active"><i></i>一区</span>
						<span><i></i>二区</span>
					</p>
					<p class="agreement"id="agree">
						<i class="active"></i>
						<span>注册表示您已阅读并同意</span>
						<a href="">《矿产链用户注册协议》</a>
					</p>
					<p class="tc reg-btn"><button class="lhbg mod-btn">注册</button></p>
					<p class="tr logbtn"><a href="">已有账号去登录</a></p>
				</div>
			</form>
		</div>
	</body>
	<script src="js/set.js"></script>
	<script src="js/jquery-1.8.2.min.js"></script>
	<script>
		function hasClass(element, cls) {
			return (' ' + element.className + ' ').indexOf(' ' + cls + ' ') > -1;
		}
		var wait=60;//60s验证码
		function time(o) {
			if (wait == 0) {
				o.removeAttribute("class", "");   
				o.innerText="获取验证码";
				wait = 60;
				} else {
					o.setAttribute("class", "disabled");
					o.innerText="重新发送(" + wait + "s)";
					wait--;
					setTimeout(function() {
						time(o)
					},
					1000)
			}
		}
		window.onload = function(){
			var agree = document.getElementById('agree'),
				agrI = agree.getElementsByTagName('i')[0],
				area = document.getElementById('area'),
				arSp = area.getElementsByTagName('span');
				agrI.onclick = function(){
					if(hasClass(agrI,'active')){
						this.className = '';
					}else{
						this.className = 'active';
					}
				}
				for(var i=0;i<arSp.length;i++){
					arSp[i].index = i;
					arSp[i].onclick = function(){
						for(var i=0;i<arSp.length;i++){
							arSp[i].className = '';
						}
						this.className = 'active';
					}
				};
				$('.hided').click(function(){
				var inval = $(this).siblings('input').val();
				if($(this).parent().hasClass('active')){
					$(this).siblings('input').detach();
					$(this).before('<input type="text" value="'+ inval +'">');
					$(this).parent().removeClass('active');
				}else{
					$(this).parent().addClass('active');
					$(this).siblings('input').detach();
					$(this).before('<input type="password" value="'+ inval +'">');
				}
			});
		}
	</script>
</html>